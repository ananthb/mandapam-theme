{{- $contact := .Site.Data.contact -}}
{{- $calendar := $contact.calendar -}}
{{- $url := default $calendar.view_url (.Get "url") -}}
{{- if $url -}}
{{- $view := default (default "month" $calendar.default_view) (.Get "view") -}}
{{- $height := default "400px" (.Get "height") -}}

<div class="calendar-view-embed"
     hx-get="{{ $url }}?view={{ $view }}"
     hx-trigger="load"
     hx-swap="innerHTML"
     style="min-height: {{ $height }};">
    <div class="calendar-loading">
        <div class="calendar-loading-spinner"></div>
        <span>Loading calendar...</span>
    </div>
</div>
{{- else -}}
<p class="calendar-error">Calendar not configured. Please add calendar.view_url to data/contact.toml.</p>
{{- end -}}
