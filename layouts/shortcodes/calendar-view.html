{{- $contact := .Site.Data.contact -}}
{{- $calendar := $contact.calendar -}}
{{- if $calendar -}}
{{- $baseUrl := $calendar.base_url -}}
{{- $calendarId := default (default $calendar.calendar_id $calendar.view_calendar_id) (.Get "calendar_id") -}}
{{- $slug := default (default $calendar.slug $calendar.view_slug) (.Get "slug") -}}
{{- $view := default (default "month" $calendar.default_view) (.Get "view") -}}
{{- $height := default "500px" (.Get "height") -}}

<div class="calendar-view-embed-wrapper">
    <iframe
        class="calendar-iframe"
        src="{{ $baseUrl }}/view/{{ $calendarId }}/{{ $slug }}?view={{ $view }}"
        style="height: {{ $height }};"
        loading="lazy"
        title="Event Calendar">
    </iframe>
</div>
{{- else -}}
<p class="calendar-error">Calendar not configured. Please add calendar settings to data/contact.toml.</p>
{{- end -}}
